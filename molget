#!/bin/sh
# Molget: bash script to get coordinates from chemical name using Babel and Cactus
# usage: ./molget methane
# (remember to "chmod 755 molget)
#
# Original work by Prof. Jensen (https://github.com/jensengroup/molget).
#
molecule="$1"

url="https://cactus.nci.nih.gov/chemical/structure/$molecule/smiles"
url=$(echo "$url" | sed 's/ /%20/g')

molecule_wo_spaces=$(echo "$molecule" | sed 's/ /_/g')

curl -# "$url" -o "$molecule_wo_spaces.smi"
obabel -ismi "$molecule_wo_spaces.smi" -oxyz "$molecule_wo_spaces.xyz" --gen3D
